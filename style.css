// Footer year
const yearSpan = document.getElementById("year");
if (yearSpan) {
  yearSpan.textContent = new Date().getFullYear();
}

// Fake XP system
let xp = 0;
const dailyGoal = 20;

const xpText = document.getElementById("xpText");
const xpBar = document.getElementById("xpBar");
const startLessonBtn = document.getElementById("startLessonBtn");
const streakCount = document.getElementById("streakCount");

function updateXpDisplay() {
  if (!xpText || !xpBar) return;
  xpText.textContent = `${xp} / ${dailyGoal} XP`;
  const percent = Math.min(100, (xp / dailyGoal) * 100);
  xpBar.style.width = percent + "%";
}

if (startLessonBtn) {
  startLessonBtn.addEventListener("click", () => {
    // Each click = +5 XP
    xp = Math.min(dailyGoal, xp + 5);
    updateXpDisplay();

    // Simple streak bump when you hit full XP
    if (xp === dailyGoal && streakCount) {
      const current = parseInt(streakCount.textContent || "0", 10);
      streakCount.textContent = String(current + 1);
    }
  });
}

// Also attach to other lesson buttons for fun
document.querySelectorAll(".lesson-btn").forEach((btn) => {
  btn.addEventListener("click", () => {
    xp = Math.min(dailyGoal, xp + 5);
    updateXpDisplay();
  });
});

// Init
updateXpDisplay();
